<?xml version="1.0"?>
<!--
  - SPDX-FileCopyrightText: 2025 Olav and Niklas Seyfarth, Contributors <https://github.com/datenschutz-individuell/twofactor_email/blob/main/CONTRIBUTORS.md>
  - SPDX-License-Identifier: AGPL-3.0-only
-->
<info xmlns:xsi= "http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="https://apps.nextcloud.com/schema/apps/info.xsd">
	<id>twofactor_email</id>
	<name>Two-Factor e-mail Provider</name>
	<summary>E-mail two-factor provider</summary>
	<description><![CDATA[### A Two-Factor-Auth Provider using e-mail

Nextcloud supports web logins with a second factor (two-factor authentication,
2FA). To support a certain type of 2FA, a "2FA provider" (server-)app must be
installed. 2FA kicks in after the primary authentication stage (typically
username and password) were successful. This provider challenges the user to
enter a randomly generated authentication code (aka one-time password, OTP,
currently 6 digits). It sends that code to the user's primary e-mail address
and expects the user to enter it on an additional 2nd step web login page.

### Installation, activation and usage

As with any 2FA provider, two-factor e-mail must be installed and enabled by a
Nextcloud server admin. Additionally, the Nextcloud must have a working e-mail
server configured.

The user may set up any of the installed providers or even multiple. This
provider uses e-mail to send the code and thus can only be enabled if an e-mail
address is set in 'Personal info'. Mind that a user may not be able to log in
if that e-mail address is invalid (or e-mail server setup of the Nextcloud is
not working properly).

Admins with console access may enable and disable this provider for specified
users via OCC command. Admins may also enforce 2FA for all users (or specific
groups) via Admin Settings. This is a Nextcloud feature and not specific to
this provider. If enforced, users with no 2FA are prompted to enable any
installed provider (that supports AtLogin setup â€“ this provider supports it
since v3). If the admin installs this provider and enforces 2FA, it should be
ensured that each user does have a valid e-mail address.

Mind that, once a user enabled any 2FA provider, they can no longer use their
password in applications that don't support the web based 2FA login flow. For
such applications, the user needs to create and use app passwords (to be found
at the bottom of Personal Settings/Security).]]></description>
	<version>3.0.5-beta.1</version>
	<licence>agpl</licence>
	<author mail="twofactor-email@datenschutz-individuell.de">Olav Seyfarth (datenschutz-individuell) [see CONTRIBUTORS.md for more]</author>
	<namespace>TwoFactorEMail</namespace>
	<documentation>
		<user>https://github.com/datenschutz-individuell/twofactor_email/wiki/User-manual</user>
		<admin>https://github.com/datenschutz-individuell/twofactor_email/wiki/Admin-manual</admin>
		<developer>https://github.com/datenschutz-individuell/twofactor_email/wiki/Developer-notes</developer>
	</documentation>
	<category>security</category>

	<website>https://github.com/datenschutz-individuell/twofactor_email</website>
	<bugs>https://github.com/datenschutz-individuell/twofactor_email/issues</bugs>
	<repository type="git">https://github.com/datenschutz-individuell/twofactor_email.git</repository>
	<screenshot small-thumbnail="https://raw.githubusercontent.com/datenschutz-individuell/twofactor_email/main/screenshots/select-auth_thumb.png">https://raw.githubusercontent.com/datenschutz-individuell/twofactor_email/master/screenshots/challenge.png</screenshot>
	<screenshot>https://raw.githubusercontent.com/datenschutz-individuell/twofactor_email/main/screenshots/settings-before.png</screenshot>
	<screenshot>https://raw.githubusercontent.com/datenschutz-individuell/twofactor_email/main/screenshots/settings-after.png</screenshot>
	<dependencies>
		<php min-version="8.2" max-version="8.5" />
		<nextcloud min-version="32" max-version="33" />
	</dependencies>
	<two-factor-providers>
		<provider>OCA\TwoFactorEMail\Provider\TwoFactorEMail</provider>
	</two-factor-providers>
	<commands>
		<command>OCA\TwoFactorEMail\Command\CleanUp</command>
	</commands>
	<activity>
		<settings>
			<setting>OCA\TwoFactorEMail\Activity\Setting</setting>
		</settings>
		<providers>
			<provider>OCA\TwoFactorEMail\Activity\Provider</provider>
		</providers>
	</activity>
</info>
